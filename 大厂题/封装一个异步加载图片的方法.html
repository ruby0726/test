<!DOCTYPE html>
<html>
  <script>
    function loadImg(url) {
      return new Promise((resolve,reject)=>{
        const image = new Image()
        image.onload = () => {
          console.log('图片加载完成')
          resolve(image)
        }
        image.onerror = () => {
          reject(new Error('加载失败' + url))
        }
        image.src = url;
      })
    }
  </script>
</html>