<html>
  <body>

  </body>
</html>
<script>
  // promise.all 方法用来包装多个promise实例，然后组成一个新的promise对象，新的promise对象的状态由前面
  //几个被包裹的promise对象的状态决定，如果前面的promise都被resolve了，那么新的promise的状态也是resolve的；
  //只要有一个promise被reject了，那么组成的新的promise的状态也是reject的
  let arr=[1,2,3].map(
    (value)=>{
      return new Promise((resolve,reject)=>{
        setTimeout(()=>{
          resolve(value)
        },value*1000)
      })
    }
  )
  console.log(arr)
  
  let promises = Promise.all(arr).then((result) => {
    console.log(result); //3s后输出结果 [1,2,3]
  }).catch((err)=>{
    console.log(err)
  })
</script>